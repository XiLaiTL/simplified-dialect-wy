# 简化方言

SIMPLIFIED DIALECT for wenyan-lang.

## 序

> 大幅度修改wenyan-lang的语法结构。增添了许多符号以方便书写和辨识。简化了许多语法。
>
> 建议继承顺序为『简化方言』『格物』『造類秘術』『简体秘术』

- [安装](#安装Install)
- [语法结构Grammar](#语法结构Grammar)
  - [声明变量Variables](#声明变量Variables)
  - [变量改变](#变量改变)
  - [声明 列](#声明-列)
  - [声明 物](#声明-物)
  - [输出文本](#输出文本)
  - [运算](#运算)
  - [条件语句Conditions](#条件语句Conditions)
  - [循环语句Loops](#循环语句Loops)
  - [声明 术Function Call](#声明-术Function-Call)



### 安装Install

Use [wyg](https://github.com/wenyan-lang/wyg) to install

```
wyg i 简化方言
```

or

```
wyg i simplified-dialect
```

### 语法结构Grammar

#### 声明变量Variables

- 仅仅声明变量名字

  ```
  有数「甲」者。
  今数「甲」者。
  ```

- 声明变量名字加值

  ```
  有数「甲」值二十三。
  有元「甲」值二十。
  有爻「甲」占陰。
  今言「甲」曰「「问天地好在。」」。
  ```

  **注意：** 句号结束不可省略

- 仅仅声明值

  原版语法已有`有数三`。现增加

    ```
    有数值三。
    有爻占陰。
    有言曰「「问天地好在。」」。
    ```

#### 变量改变

- 变量命名用`授「甲」。`

  ```
  減「甲」以一百。授「乙」。
  ```

- 变量重新绑定用`予「甲」。`

  ```
  減「甲」以一百。予「甲」。
  易「甲」以其。
  易「甲」值「乙」。
  ```

  **注意：** 句号结束不可省略

#### 声明 列

- 声明列。用`行`字也可以。以方便区分二元队列。

  ```
  有列「甲」者。
  有行「甲」者。
  ```

- 声明已经填充的队列。用`、`隔开填充的数值

  ```
  有列「坐标」举二、三十、四。
  ```

- 使用列中的元素。用`·`来引出。事实上`·`代表`之`。都可以替换

  ```
  易「坐标」·二值三十五。
  ```

  **注意：** 在进行运算的时候，原版不支持`「坐标」之二`这种取变量方式。

#### 声明 物

- 声明物。

  ```
  有物「甲」者
  ```

- 声明已经填充的物。用必须用指定格式`·「甲」言「乙」；`。这里分号必不可少。`言`是串的类型值。前后都是单引号

  ```
  有物「炮营」举：
  【
  	·「人数」数三十；
  	·「炮数」数十五；
  	·「状态」爻阳；
  	·「口号」言「「必胜」」；
  】
  ```

- 使用物中的元素。用`·`来引出。关键字要用双引号。

  ```
  书（「炮营」·「「口号」」）。
  ```

  **注意：** 在进行运算的时候，原版不支持`「炮营」之「「炮数」」`这种取变量方式。

- 『格物』中的方法简化。句号不可省略。都用单引号

  ```
  取「物名」·「条目」。
  置「物名」·「条目」值「键值」。
  ```

- 『造類秘術』中的方法简化。

  ```
  有类「造的类」：依法「造类的方法」合「属性集合」「方法集合」。
  有类「造的类」：依法「造类的方法」继「所继承的造类的方法」合「属性集合」「方法集合」。
  ```

#### 输出文本

- 简化输出文本的语法。也可以通过`书「甲」`或者`书（「甲」）`直接输出变量。

  ```
  书「「问天地好在。」」。
  书「甲」。
  书（「甲」）。
  ```

#### 运算

- 为了方便运算，引入『腳本秘術』用中文大括号标出范围`｛｝`。

  ```
  ｛
  	参=风向*坐标[1];
  ｝
  ```

  **注意：** 数列取数是js里的`变量[位置-1]`。里面不用加单引号。
  		每句话的结尾在js里是`;`。

- 对于列或者物关于内部元素的运算，引入了小括号`（）`。

  ```
  加「高度」以（「坐标」·二）。予「坐标」·二。
  ```

- 余数的书写简洁化。

  ```
  除「山高」以三百四十一。余「甲」。
  ```

#### 条件语句Conditions

- 句式更新为`若``或``而`。条件书写结束后加`：【`

  ```
  若「目」大于一百：
  【
  	減「校数」以一百。予「校数」。
  】
  或「目」大于五十：
  【
  	減「校数」以五十。予「校数」。
  】
  而
  【
  	減「校数」以三十。予「校数」。
  】
  ```

- `若其然者``若其不然者`可以简写为`若其然``若其不然`。条件书写结束后可以加`：【`

- 判断中的`与``或`简化。`苛`是`与`。`宽`是`或`。

  ```
  苛「甲」「乙」。
  宽「甲」「乙」。
  ```

  **注意：** 这边的条件当然可以直接用js里面不加单引号的变量表达方式`目>50`

#### 循环语句Loops

- 循环几次

  ```
  演十：
  【
  	书（「炮营」·「「口号」」）。
  】
  ```

- 死循环

  ```
  演：
  【
  	书（「炮营」·「「口号」」）。
  】
  ```

- 条件循环

  ```
  演（「喊口号数」等于零）：
  【
  	減「喊口号数」以一。予「喊口号数」
  	书「「胜利！」」。
  】
  ```

- 列表循环

  ```
  演「坐标」举「坐标值」：
  【
  	书「坐标值」。
  】
  ```

#### 声明 术Function Call

- 术的声明。

  ```
  有术「校」参爻（「天气」）列（「坐标」）数（「风向」）：
  【
  	注曰「「里面是内容」」。
  】
  ```

  也可以通过`《》`不加单引号进行声明。加`今`字如`今《炮击》参（）列（「目标」）：`
  替代`今有一術`巴拉巴拉。上面那种方法直接改`今术「校」参爻（「天气」）`。
  `（）`代表空元。
  `乃结`返回空值。

  ```
  《炮击》参（）列（「目标坐标」）数（「校数」）：
  【
  	注曰「「里面是内容」」。
    乃结。
  】
  ```

- 术的施用。

  ```
  施「校」（「天气」）（「坐标」）（二十四）。授「校值」。
  ```

   **注意：** 这里中文（）内填写如果要用函数，则不能填写一个` 施「校」（「天气」）`。而是要添加js函数形式`校()()()`。
